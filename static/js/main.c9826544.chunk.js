(this.webpackJsonpgamenopsa=this.webpackJsonpgamenopsa||[]).push([[0],{77:function(e,t,a){e.exports=a(97)},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),c=a.n(o),i=a(19),l=a(26),s={isOn:!1},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GAME_SETTINGS":return t.data;default:return e}},d=Object(l.b)({game:u}),f=a(39),m=a(4),g=a(5),p=a(9),b=a(100),h=a(73),y=a(99),E=function(e){var t=e.card,a="black",n="";switch(t.suit){case 2:n="\u2665",a="red";break;case 3:n="\u2663";break;case 4:n="\u2666",a="red";break;default:n="\u2660"}var o=1===t.value?"A":t.value;return r.a.createElement(m.a,{style:{justifyContent:"center",alignItems:"center"}},r.a.createElement(h.a,{style:{color:a,fontSize:30}},n),r.a.createElement(h.a,{style:{color:a,fontSize:30}},o))},v=function(e){var t=e.scaleUnit,a={justifyContent:"center",alignItems:"center",backgroundColor:"#B9CC3F",width:t,height:1.7*t,borderRadius:6};return r.a.createElement(m.a,{style:a},function(){for(var e=[],a=0;a<9;a++)e.push(r.a.createElement(h.a,{key:a,style:{color:"green",fontSize:t/7}},"\xa9\xa9\xa9\xa9\xa9\xa9\xa9"));return e}())},C=r.a.forwardRef((function(e,t){var a,o={width:a=e.size,height:1.7*a,borderRadius:7,backgroundColor:"papayawhip"},c=new y.a.Value(0),i={transform:[{rotateX:c.interpolate({inputRange:[0,180],outputRange:["180deg","360deg"]})}]},l=new y.a.Value(90),s={transform:[{rotateX:l.interpolate({inputRange:[0,180],outputRange:["180deg","360deg"]})}]},u=function(){var t=e.index>14?"null":"draggable";!function(e,t){y.a.sequence([y.a.timing(e,{toValue:90,tension:10,friction:10,duration:300}),y.a.timing(t,{toValue:180,tension:10,friction:10,duration:300})]).start()}(c,l),setTimeout((function(){e.convertCardState(t)}),600)};return Object(n.useImperativeHandle)(t,(function(){return{flip:u}})),r.a.createElement(m.a,null,r.a.createElement(y.a.View,{style:[o,{position:"absolute",left:0},i]},r.a.createElement(v,{scaleUnit:e.size})),r.a.createElement(y.a.View,{style:[o,s]},r.a.createElement(E,{card:e.card})))})),w=r.a.forwardRef((function(e,t){var a=Object(n.useState)(new y.a.ValueXY),o=Object(p.a)(a,1)[0],c={transform:[{translateX:o.x},{translateY:o.y}]},i=Object(n.useState)(e.startLocation),l=Object(p.a)(i,1)[0],s=r.a.createRef(),u=function(){s.current.flip()},d=function(){var t=e.index>14?0:500*e.index;!function(e,t,a,n){y.a.sequence([y.a.delay(a),y.a.timing(e,{toValue:{x:n.x-t.x,y:n.y-t.y},duration:1e3})]).start()}(o,l,t,e.endLocation),e.flip&&setTimeout((function(){u()}),t+1e3)};return Object(n.useImperativeHandle)(t,(function(){return{moveAndPossiblyFlip:d,flip:u}})),r.a.createElement(y.a.View,{style:[c,{position:"absolute",left:l.x,top:l.y}]},r.a.createElement(C,{ref:s,index:e.index,card:e.card,size:e.scaleUnit,convertCardState:e.convertCardState}))})),S=a(101),k=function(e,t){var a=t-15>0?t-15:0,n=52-t,r=n-15>0?n-15:0;return e<15+Math.min(a,r)||n%2===0&&e%2===0?"right":"left"},x=function(e,t,a){var n,r,o=1.7*t,c=4.5*o;switch(e){case 0:n=a+1/6*t;break;case 1:case 5:n=a+(2/6+1)*t;break;case 2:case 6:case 9:n=a+2.5*t;break;case 3:case 7:case 10:case 12:n=a+(4/6+3)*t;break;default:n=a+(5/6+4)*t}switch(e){case 14:r=c+.5*o;break;case 12:case 13:r=c+.375*o;break;case 9:case 10:case 11:r=c+.25*o;break;case 5:case 6:case 7:case 8:r=c+.125*o;break;default:r=c}return{x:n,y:r}},j=function(e,t,a,n){var r=n+(1/6+1+4/6+1+2/6)*a,o=2.75*a*1.7;return e>r&&e<r+a&&(t>o&&t<o+1.7*a)},T=function(e,t,a,n){var r=n+(1/6+1+4/6)*a,o=2.75*a*1.7;return e>r&&e<r+a&&(t>o&&t<o+1.7*a)},R=function(e){y.a.timing(e,{toValue:{x:0,y:0},duration:500}).start()},O=r.a.forwardRef((function(e,t){var a,o={width:a=e.size,height:1.7*a,borderRadius:7,backgroundColor:"papayawhip"},c=Object(n.useState)(e.startLocation),i=Object(p.a)(c,1)[0],l=new y.a.ValueXY,s={transform:[{translateX:l.x},{translateY:l.y}]},u=function(t,a){var n=function(e,t,a,n){var r=T(e,t,a,n),o=j(e,t,a,n);return r?"left":o?"right":"none"}(t,a,e.size,e.spacing);"none"!==n?function(e,t,a,n){var r="left"===e?t.value:a.value,o=n.value;if(1===r){if(2===o||13===o)return!0}else{if(13!==r)return o===r+1||o===r-1;if(12===o||1===o)return!0}}(n,e.topmostLeft,e.topmostRight,e.card)?(!function(e,t,a,n,r){var o="left"===t?n+(1/6+1+4/6)*a:n+(1/6+1+4/6+1+2/6)*a,c=4.675*a;y.a.timing(e,{toValue:{x:o-r.x,y:c-r.y},duration:500}).start()}(l,n,e.size,e.spacing,e.startLocation),setTimeout((function(){var t,a,r,o;t=n,a=e.changeTopmostLeft,r=e.changeTopmostRight,o=e.card,"left"===t?a(o):r(o),e.convertCardState("null"),e.flipPossibleCardBelow(e.index)}),500)):R(l):R(l)},d=S.a.create({onStartShouldSetPanResponder:function(e,t){return!0},onPanResponderMove:function(e,t){!function(e,t,a){y.a.timing(a,{toValue:{x:e,y:t},duration:0}).start()}(t.dx,t.dy,l)},onPanResponderRelease:function(e,t){u(t.moveX,t.moveY)}});return r.a.createElement(b.a,{disabled:!1},r.a.createElement(y.a.View,Object.assign({style:[o,s,{position:"absolute",left:i.x,top:i.y}]},d.panHandlers),r.a.createElement(E,{card:e.card})))})),V=r.a.forwardRef((function(e,t){var a,o=Object(n.useState)("movable"),c=Object(p.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)((a=e.scaleUnit,{x:e.spacing+4.833333333333334*a,y:4.675*a})),u=Object(p.a)(s,1)[0],d=Object(n.useState)(function(e,t,a,n){if(e<15)return x(e,t,a);var r=4.675*t;return"right"===k(e,n)?{x:a+(1/6+1+4/6+1+2/6)*t,y:r}:{x:a+(1/6+1+4/6)*t,y:r}}(e.index,e.scaleUnit,e.spacing,e.cardCount)),f=Object(p.a)(d,1)[0],m=Object(n.useState)(function(e,t){var a=!1;switch(e){case 0:case 5:case 9:case 12:case 14:a=!0;break;case 1:case 2:case 3:case 4:e+4>t&&(a=!0);break;case 6:case 7:case 8:e+4>t&&(a=!0);break;case 10:case 11:case 13:e+4>t&&(a=!0)}return e>14&&(a=!0),a}(e.index,e.cardCount)),g=Object(p.a)(m,1)[0],b=function(e){l(e)};return"null"===i?null:"draggable"===i?r.a.createElement(O,{card:e.card,ref:t,index:e.index,size:e.scaleUnit,startLocation:f,topmostLeft:e.topmostLeft,topmostRight:e.topmostRight,changeTopmostRight:e.changeTopmostRight,changeTopmostLeft:e.changeTopmostLeft,spacing:e.spacing,convertCardState:b,flipPossibleCardBelow:e.flipPossibleCardBelow}):r.a.createElement(w,{ref:t,index:e.index,scaleUnit:e.scaleUnit,startLocation:u,card:e.card,endLocation:f,flip:g,convertCardState:b})})),U=r.a.forwardRef((function(e,t){var a=Object(n.useState)(e.playerCards),o=Object(p.a)(a,1)[0],c=Object(n.useState)(o.map((function(e){return r.a.createRef()}))),i=Object(p.a)(c,1)[0],l=Object(n.useState)(e.playerCards.length>15?15:100),s=Object(p.a)(l,2),u=s[0],d=s[1],f=function(){for(var e=Math.min(o.length,15),t=0;t<e;t++)i[t].current.moveAndPossiblyFlip()},g=function(){u<e.playerCards.length&&(i[u].current.moveAndPossiblyFlip(),setTimeout((function(){"right"===k(u,o.length)?e.changeTopmostRight(o[u]):e.changeTopmostLeft(o[u]),d(u+1)}),1600))},b=function(e){var t=function(e){var t;switch(e){case 14:t=13;break;case 13:t=11;break;case 12:t=10;break;case 11:t=8;break;case 10:t=7;break;case 9:t=6;break;case 8:t=4;break;case 7:t=3;break;case 6:t=2;break;case 5:t=1;break;default:t=-1}return t}(e);i[t].current.flip()};return Object(n.useImperativeHandle)(t,(function(){return{dealSolitaireCards:f,dealSingleCard:g}})),r.a.createElement(m.a,null,o.map((function(t,a){return r.a.createElement(V,{key:a,index:a,card:t,ref:i[a],scaleUnit:e.scaleUnit,spacing:e.spacing,cardCount:o.length,topmostLeft:e.topmostLeft,topmostRight:e.topmostRight,changeTopmostRight:e.changeTopmostRight,changeTopmostLeft:e.changeTopmostLeft,flipPossibleCardBelow:b})})))})),B=function(e){var t=e.viewStyle,a=e.topmost,n=""===a?"green":"papayawhip";return r.a.createElement(m.a,{style:[t,{backgroundColor:n}]},""!==a?r.a.createElement(E,{card:a}):null)},F=function(e){var t=e.topmostLeft,a=e.topmostRight,n=e.scaleUnit,o=e.spacing,c=function(e,t){return{position:"absolute",left:t+(1/6+1+4/6)*e,top:4.675*e,width:e,height:1.7*e,borderRadius:7,zIndex:0}}(n,o),i=function(e,t){return{position:"absolute",left:t+(1/6+1+4/6+1+2/6)*e,top:4.675*e,width:e,height:1.7*e,borderRadius:7,zIndex:0}}(n,o);return r.a.createElement(m.a,null,r.a.createElement(B,{viewStyle:c,topmost:t}),r.a.createElement(B,{viewStyle:i,topmost:a}))},L=Object(i.b)((function(e){return{game:e.game}}),{})((function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),o=a[0],c=(a[1],Object(n.useState)("")),i=Object(p.a)(c,2),l=i[0],s=i[1],u=Object(n.useState)(e.game.playerStack),d=Object(p.a)(u,1)[0],f=r.a.createRef();return r.a.createElement(m.a,null,r.a.createElement(F,{topmostLeft:o,topmostRight:l,scaleUnit:e.scaleUnit,spacing:e.spacing}),r.a.createElement(U,{playerCards:d,ref:f,scaleUnit:e.scaleUnit,spacing:e.spacing,changeTopmostRight:function(e){s(e)},changeTopmostLeft:function(e){console.log("changeTopmostLeft")},topmostLeft:o,topmostRight:l}),r.a.createElement(b.a,{onPress:function(){f.current.dealSolitaireCards()}},r.a.createElement(h.a,null,"deal solitaire")),r.a.createElement(b.a,{onPress:function(){f.current.dealSingleCard()}},r.a.createElement(h.a,null,"deal single")))})),I=function(e){return g.a.create({contents:{alignItems:"center",marginTop:e/2},titleText:{fontSize:e/1.5,fontWeigth:"bold",color:"#B9CC3F",fontFamily:"Arial Black"},infoText:{fontSize:e/2.5,color:"#B9CC3F",fontFamily:"Arial"},spacer:{height:e/2},buttonView:{backgroundColor:"#B9CC3F",padding:e/5,borderRadius:8,marginTop:e/5},buttonText:{color:"green",fontFamily:"Arial",fontSize:e/2.5}})},z=function(e){var t=e.startSetting,a=e.scaleUnit,n=I(a),o=new y.a.Value(1),c={opacity:o};return r.a.createElement(m.a,null,r.a.createElement(y.a.View,{style:c},r.a.createElement(m.a,{style:n.contents},r.a.createElement(h.a,{style:n.titleText},"nopsa"),r.a.createElement(h.a,{style:n.infoText},"a card game for those with"),r.a.createElement(h.a,{style:n.infoText}," skill, speed and luck"),r.a.createElement(m.a,{style:n.spacer}),r.a.createElement(h.a,{style:n.infoText},"feel like playing?"),r.a.createElement(b.a,{onPress:function(){y.a.timing(o,{toValue:0,duration:1e3}).start(),setTimeout((function(){t()}),1e3)},style:n.buttonView},r.a.createElement(h.a,{style:n.buttonText},"setup a new game")))))},P=function(e){var t=e.value,a=e.dotViewWidth,n={width:a,height:1.4*a,justifyContent:"center",alignItems:"center"},o={width:4,height:4,opacity:t>=e.dotNumber?1:.2,backgroundColor:"#B9CC3F",borderRadius:3};return r.a.createElement(m.a,{style:n},r.a.createElement(m.a,{style:o}))},A=function(e){var t=e.value,a=e.dotNumber,n=e.dotViewWidth,o=e.handleSelectionChanged,c={width:n,height:1.4*n,justifyContent:"center",alignItems:"center",borderWidth:1.5,opacity:t>=a?1:.2,borderColor:"#B9CC3F",borderRadius:n};return r.a.createElement(b.a,{onPress:function(){return o(a)}},r.a.createElement(m.a,{style:c},r.a.createElement(m.a,{style:{width:4,height:4,backgroundColor:"#B9CC3F",borderRadius:2}})))},W=r.a.forwardRef((function(e,t){var a=e.scaleUnit,o=e.optionCount-1,c=Object(n.useState)(1),i=Object(p.a)(c,2),l=i[0],s=i[1],u=6*a/30,d=function(e){var t,a=l,n=Math.max(e-l,l-e);function r(t){return setInterval((function(){"up"===t&&a<e?(a++,s(a)):"down"===t&&e<a&&(a--,s(a))}),180/n)}l<e?t=r("up"):l>e&&(t=r("down")),setTimeout((function(){clearInterval(t)}),180*n)},f=function(){return(l-1)/6+1};Object(n.useImperativeHandle)(t,(function(){return{getSelectedValue:f}}));return r.a.createElement(m.a,{style:M.container},r.a.createElement(m.a,{style:M.dotSliderView},function(){for(var e=[],t=1;t<=6*o+1;t++)(t-1)%6!==0?e.push(r.a.createElement(P,{key:t,value:l,dotViewWidth:u,dotNumber:t})):e.push(r.a.createElement(A,{key:t,value:l,dotViewWidth:u,handleSelectionChanged:d,dotNumber:t}));return e}()))})),M=g.a.create({container:{alignItems:"center",marginBottom:50},instructionText:{color:"#B9CC3F",fontFamily:"Arial",fontWeight:"bold",marginBottom:15},dotSliderView:{flexDirection:"row",alignItems:"center"}}),X=function(e){var t=e.displayColor,a=e.number,n=e.selectStack,o=e.scaleUnit,c={width:1.5*o,height:1.7*o*1.3,borderRadius:9.1,borderWidth:1.3,justifyContent:"center",alignItems:"center"};return r.a.createElement(b.a,{onPress:function(){return n(a)}},r.a.createElement(m.a,{style:[c,t]},r.a.createElement(v,{scaleUnit:o})))},G=r.a.forwardRef((function(e,t){var a=e.scaleUnit,o=H(),c=Object(n.useState)(0),i=Object(p.a)(c,2),l=i[0],s=i[1],u=function(e){s(e)},d=function(){return 0===l?{player:0,computer:1}:{player:1,computer:0}};Object(n.useImperativeHandle)(t,(function(){return{getSelectedStack:d}}));var f=0===l?{borderColor:"#B9CC3F"}:{borderColor:"green"},g=1===l?{borderColor:"#B9CC3F"}:{borderColor:"green"};return r.a.createElement(m.a,{style:o.container},r.a.createElement(m.a,{style:{flexDirection:"row"}},r.a.createElement(X,{displayColor:f,number:0,selectStack:u,scaleUnit:a}),r.a.createElement(m.a,{style:{width:30}}),r.a.createElement(X,{displayColor:g,number:1,selectStack:u,scaleUnit:a})))})),H=function(e){return g.a.create({container:{alignItems:"center"},instructionText:{fontSize:e/2.5,color:"#B9CC3F",fontFamily:"Arial",marginBottom:e/3}})},N=a(76),Y=a.n(N),_={setGameSettings:function(e){return{type:"SET_GAME_SETTINGS",data:e}}},q=Object(i.b)((function(e){return{game:e.game}}),_)((function(e){var t=e.scaleUnit,a=D(t),n=r.a.createRef(),o=r.a.createRef(),c=r.a.createRef(),i=new y.a.Value(1),l={opacity:i};return r.a.createElement(y.a.View,{style:[a.container,l]},r.a.createElement(h.a,{style:a.instructionText},"select opponent skill level"),r.a.createElement(W,{scaleUnit:t,optionCount:3,ref:n}),r.a.createElement(h.a,{style:a.instructionText},"select opponent speed"),r.a.createElement(W,{scaleUnit:t,optionCount:5,ref:o}),r.a.createElement(h.a,{style:a.instructionText},"select your stack"),r.a.createElement(G,{scaleUnit:t,ref:c}),r.a.createElement(m.a,{style:a.spacer}),r.a.createElement(b.a,{onPress:function(){y.a.timing(i,{toValue:0,duration:1e3}).start();var t=function(){for(var e=[],t=1;t<5;t++)for(var a=1;a<14;a++)e.push({suit:t,value:a});var n=Y()(e);return[n.slice(0,26),n.slice(26)]}();setTimeout((function(){e.setGameSettings({skill:n.current.getSelectedValue(),speed:o.current.getSelectedValue(),playerStack:t[c.current.getSelectedStack().player],computerStack:t[c.current.getSelectedStack().computer],isOn:!0})}),1e3)},style:a.buttonView},r.a.createElement(h.a,{style:a.buttonText},"save settings")))})),D=function(e){return g.a.create({container:{alignItems:"center",marginTop:50},instructionText:{fontSize:e/2.5,color:"#B9CC3F",fontFamily:"Arial",marginBottom:e/3},spacer:{height:e/2},buttonView:{backgroundColor:"#B9CC3F",padding:e/5,borderRadius:8,marginTop:e/5},buttonText:{color:"green",fontFamily:"Arial",fontSize:e/2.5}})},J=function(e){var t=e.scaleUnit,a=Object(n.useState)(!1),o=Object(p.a)(a,2),c=o[0],i=o[1];return r.a.createElement(m.a,null,c?r.a.createElement(q,{scaleUnit:t}):r.a.createElement(z,{startSetting:function(){i(!0)},scaleUnit:t}))},K=Object(i.b)((function(e){return{game:e.game}}),{})((function(e){var t=f.a.get("window").width,a=f.a.get("window").height,n=Math.min(t/6,a/10.2),o=Q(t,a),c=(t-6*n)/2,i=e.game.isOn;return r.a.createElement(m.a,{style:o.screen},i?r.a.createElement(L,{scaleUnit:n,spacing:c}):r.a.createElement(J,{scaleUnit:n}))})),Q=function(e,t){return g.a.create({screen:{width:e,height:t,backgroundColor:"green"}})},Z=Object(l.c)(d),$=function(){return r.a.createElement(i.a,{store:Z},r.a.createElement(K,null))};c.a.render(r.a.createElement($,null),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.c9826544.chunk.js.map