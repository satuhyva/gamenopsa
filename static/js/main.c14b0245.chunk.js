(this.webpackJsonpgamenopsa=this.webpackJsonpgamenopsa||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(25),o=n.n(i),c=n(17),u=n(28),l=n(24),s={isOn:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GAME_SETTINGS":return t.data;case"SET_GAMEROUND_RESULTS":return Object(l.a)(Object(l.a)({},e),{},{playerStack:t.data.playerStack,computerStack:t.data.computerStack});case"END_GAME":return t.data;default:return e}},d=Object(u.b)({game:f}),m=n(2),g=n(42),p=n(5),b=n(6),y=n(19),v=n(77),h=n(103),S=function(e){var t=e.card,n="black",a="";switch(t.suit){case 2:a="\u2665",n="red";break;case 3:a="\u2663";break;case 4:a="\u2666",n="red";break;default:a="\u2660"}var i=1===t.value?"A":t.value;return r.a.createElement(p.a,{style:{justifyContent:"center",alignItems:"center"}},r.a.createElement(v.a,{style:{color:n,fontSize:30}},a),r.a.createElement(v.a,{style:{color:n,fontSize:30}},i))},C=function(e){var t=e.scaleUnit,n={justifyContent:"center",alignItems:"center",backgroundColor:"#B9CC3F",width:t,height:1.7*t,borderRadius:6};return r.a.createElement(p.a,{style:n},function(){for(var e=[],n=0;n<9;n++)e.push(r.a.createElement(v.a,{key:n,style:{color:"green",fontSize:t/7}},"\xa9\xa9\xa9\xa9\xa9\xa9\xa9"));return e}())},E=r.a.forwardRef((function(e,t){var n=O(e.unitsAndLocations.unit),i=new h.a.Value(0),o={transform:[{rotateX:i.interpolate({inputRange:[0,180],outputRange:["180deg","360deg"]})}]},c=new h.a.Value(90),u={transform:[{rotateX:c.interpolate({inputRange:[0,180],outputRange:["180deg","360deg"]})}]},l=function(e){x(i,c,e)};return Object(a.useImperativeHandle)(t,(function(){return{flip:l}})),r.a.createElement(p.a,null,r.a.createElement(h.a.View,{style:[n,{position:"absolute",left:0},o]},r.a.createElement(C,{scaleUnit:e.unitsAndLocations.unit})),r.a.createElement(h.a.View,{style:[n,u]},r.a.createElement(S,{card:e.card})))})),O=function(e){return{width:e,height:1.7*e,borderRadius:7,backgroundColor:"papayawhip"}},x=function(e,t,n){h.a.sequence([h.a.timing(e,{toValue:90,tension:10,friction:10,duration:n/2}),h.a.timing(t,{toValue:180,tension:10,friction:10,duration:n/2})]).start()},j=r.a.forwardRef((function(e,t){var n=Object(a.useState)(new h.a.ValueXY),i=Object(m.a)(n,1)[0],o={transform:[{translateX:i.x},{translateY:i.y}]},c=Object(a.useState)(e.startLocation),u=Object(m.a)(c,1)[0],l=r.a.createRef(),s=function(e){l.current.flip(e)},f=function(t,n){var a=e.index>14?0:500*e.index;w(i,u,a,e.endLocation,t),e.flip&&setTimeout((function(){s(n)}),a+t)},d=function(e,t){w(i,u,0,e,t)};return Object(a.useImperativeHandle)(t,(function(){return{moveAndPossiblyFlipWithDelay:f,flipOnly:s,moveCardToLocation:d}})),r.a.createElement(h.a.View,{style:[o,{position:"absolute",left:u.x,top:u.y}]},r.a.createElement(E,{ref:l,index:e.index,card:e.card,convertCardState:e.convertCardState,unitsAndLocations:e.unitsAndLocations}))})),w=function(e,t,n,a,r){h.a.sequence([h.a.delay(n),h.a.timing(e,{toValue:{x:a.x-t.x,y:a.y-t.y},duration:r})]).start()},T=n(105),D=n(104),k=function(e,t){var n=!1;switch(e){case 0:case 5:case 9:case 12:case 14:n=!0;break;case 1:case 2:case 3:case 4:e+4>=t&&(n=!0);break;case 6:case 7:case 8:e+3>=t&&(n=!0);break;case 10:case 11:e+2>=t&&(n=!0);break;case 13:e+1>=t&&(n=!0)}return e>14&&(n=!0),n},A=function(e,t,n,a){var r=a+(1/6+1+4/6+1+2/6)*n,i=2.75*n*1.7;return e>r&&e<r+n&&(t>i&&t<i+1.7*n)},R=function(e,t,n,a){var r=a+(1/6+1+4/6)*n,i=2.75*n*1.7;return e>r&&e<r+n&&(t>i&&t<i+1.7*n)},L=function(e,t,n,a){var r="left"===e?t.value:n.value,i=a.value;if(1===r){if(2===i||13===i)return!0}else{if(13!==r)return i===r+1||i===r-1;if(12===i||1===i)return!0}},V=function(e){var t=new Map([[14,13],[13,11],[12,10],[11,8],[10,7],[9,6],[8,4],[7,3],[6,2],[5,1],["default",-1]]);return t.get(e)||t.get("default")},I=function(e,t,n,a,r){var i=4.675*e;return"right"===G(n,a,r)?{x:t+(1/6+1+4/6+1+2/6)*e,y:i}:{x:t+(1/6+1+4/6)*e,y:i}},G=function(e,t,n){var a=n-15>0?n-15:0,r=52-n,i=r-15>0?r-15:0;return t<15+Math.min(a,i)||n%2===0&&t%2===0||n%2!==0&&t%2!==0?e:"right"===e?"left":"right"},F=function(e,t,n){var a=1.7*t,r=.5*a,i=n;switch(e){case 14:case 13:case 11:case 8:case 4:i+=1/6*t;break;case 12:case 10:case 7:case 3:i+=(2/6+1)*t;break;case 9:case 6:case 2:i+=2.5*t;break;case 5:case 1:i+=(4/6+3)*t;break;default:i+=(5/6+4)*t}var o=0;switch(e){case 4:case 3:case 2:case 1:case 0:o=r+.5*a;break;case 8:case 7:case 6:case 5:o=r+.375*a;break;case 11:case 10:case 9:o=r+.25*a;break;case 13:case 12:o=r+.125*a;break;default:o=r}return{x:i,y:o}},P=function(e){for(var t=[],n=0;n<e;n++)t.push("movable");return t},B=function(e){for(var t=[],n=Math.min(15,e),a=0;a<n;a++)t.push(a);return t},M=function(e,t,n){for(var a=Object(y.a)(t),r=0;r<e.length;r++)a[e[r].index]=e[r].newState;n(a)},U=function(e,t,n,a,r){for(var i,o=Object(y.a)(a),c=0;c<o.length;c++)o[c]===e&&(i=c);o[i]=-1,"occupy"===t&&(o[n]=e),r(o)},z=function(e,t){for(var n,a=0;a<t.length;a++)t[a]===e&&(n=a);return n},X=function(e,t,n){"left"===e?t.changeLeft(n):t.changeRight(n)},N=function(e,t){for(var n=-1,a=[[5],[9,6],[12,10,7],[14,13,11,8]],r=0;r<4;){for(var i=0,o=!0;o&&i<a[r].length;){if(a[r][i]<t.length){var c=e[a[r][i]];-1!==c&&(n=c,o=!1)}i++}r++}return n},Y=r.a.forwardRef((function(e,t){var n=W(e.unitsAndLocations.unit),i=Object(a.useState)(e.startLocation),o=Object(m.a)(i,1)[0],c=Object(a.useState)(new h.a.ValueXY),u=Object(m.a)(c,1)[0],l={transform:[{translateX:u.x},{translateY:u.y}]},s=Object(a.useState)({x:0,y:0}),f=Object(m.a)(s,2),d=f[0],g=f[1],p=Object(a.useState)(e.unitsAndLocations.timing),b=Object(m.a)(p,1)[0],y=T.a.create({onStartShouldSetPanResponder:function(e,t){return!0},onPanResponderMove:function(e,t){H(t.dx,t.dy,u,d)},onPanResponderRelease:function(t,n){var a,r;a=n.moveX,r=n.moveY,J(a,r,e.unitsAndLocations,e.topmostStuff,e.card,o,u,e.handleChangesAfterPlayingACard,e.index,b)||K(a,r,e.unitsAndLocations,e.occupancyData,u,o,g,e.handleMovedCardToEmptyPosition,e.index,b)||_(u,d,b)}});return r.a.createElement(D.a,{disabled:!1},r.a.createElement(h.a.View,Object.assign({style:[n,l,{position:"absolute",left:o.x,top:o.y}]},y.panHandlers),r.a.createElement(S,{card:e.card})))})),W=function(e){return{width:e,height:1.7*e,borderRadius:7,backgroundColor:"papayawhip"}},_=function(e,t,n){var a=n.moveDurationComputerCardGaming;h.a.timing(e,{toValue:{x:0-t.x,y:0-t.y},duration:a}).start()},H=function(e,t,n,a){h.a.timing(n,{toValue:{x:e-a.x,y:t-a.y},duration:0}).start()},q=function(e,t,n,a){h.a.timing(e,{toValue:{x:t.x-n.x,y:t.y-n.y},duration:a}).start()},J=function(e,t,n,a,r,i,o,c,u,l){var s=n.unit,f=n.spacing,d=a.valueLeft,m=a.valueRight,g=function(e,t,n,a){var r=R(e,t,n,a),i=A(e,t,n,a);return r?"left":i?"right":"none"}(e,t,s,f),p=l.movementFinalization;if("none"!==g)return!!L(g,d,m,r)&&(function(e,t,n,a,r,i){q(e,{x:"left"===t?a+(1/6+1+4/6)*n:a+(1/6+1+4/6+1+2/6)*n,y:4.675*n},r,i)}(o,g,s,f,i,p),setTimeout((function(){c(u,g)}),p),!0)},K=function(e,t,n,a,r,i,o,c,u,l){var s=n.unit,f=n.spacing,d=function(e,t,n,a,r){for(var i=[],o=0;o<5;o++)i.push(a+(1/6+o*(1+1/6))*n);for(var c=4.5*1.7*n,u="none",l=0;l<5;l++){-1===r[l]&&e>i[l]&&e<i[l]+n&&t>c&&t<c+1.7*n&&(u=l)}return u}(e,t,s,f,a),m=l.movementFinalization;return"none"!==d&&(function(e,t,n,a,r,i){q(e,{x:a+(1/6+t*(1+1/6))*n,y:4.5*1.7*n},r,i)}(r,d,s,f,i,m),setTimeout((function(){o({x:i.x-(f+(1/6+d*(1+1/6))*s),y:i.y-4.5*1.7*s}),c(u,d)}),m),!0)},Q=r.a.forwardRef((function(e,t){var n,i=Object(a.useState)((n=e.unitsAndLocations.unit,{x:e.unitsAndLocations.spacing+4.833333333333334*n,y:4.675*n})),o=Object(m.a)(i,1)[0],c=Object(a.useState)(function(e,t,n,a){return e<15?function(e,t,n){var a,r,i=1.7*t,o=4.5*i;switch(e){case 0:a=n+1/6*t;break;case 1:case 5:a=n+(2/6+1)*t;break;case 2:case 6:case 9:a=n+2.5*t;break;case 3:case 7:case 10:case 12:a=n+(4/6+3)*t;break;default:a=n+(5/6+4)*t}switch(e){case 14:r=o+.5*i;break;case 12:case 13:r=o+.375*i;break;case 9:case 10:case 11:r=o+.25*i;break;case 5:case 6:case 7:case 8:r=o+.125*i;break;default:r=o}return{x:a,y:r}}(e,t,n):I(t,n,"right",e,a)}(e.index,e.unitsAndLocations.unit,e.unitsAndLocations.spacing,e.cardCount)),u=Object(m.a)(c,1)[0],l=Object(a.useState)(k(e.index,e.cardCount)),s=Object(m.a)(l,1)[0];return"null"===e.cardState?null:"draggable"===e.cardState?r.a.createElement(Y,{card:e.card,ref:t,index:e.index,startLocation:u,unitsAndLocations:e.unitsAndLocations,topmostStuff:e.topmostStuff,handleChangesAfterPlayingACard:e.handleChangesAfterPlayingACard,handleMovedCardToEmptyPosition:e.handleMovedCardToEmptyPosition,occupancyData:e.occupancyData}):r.a.createElement(j,{ref:t,index:e.index,startLocation:o,card:e.card,endLocation:u,flip:s,unitsAndLocations:e.unitsAndLocations})})),Z=r.a.forwardRef((function(e,t){var n=Object(a.useState)(e.playerCards),i=Object(m.a)(n,1)[0],o=Object(a.useState)(i.map((function(e){return r.a.createRef()}))),c=Object(m.a)(o,1)[0],u=Object(a.useState)(e.playerCards.length>15?15:100),l=Object(m.a)(u,2),s=l[0],f=l[1],d=Object(a.useState)(P(e.playerCards.length)),g=Object(m.a)(d,2),b=g[0],y=g[1],v=Object(a.useState)(B(e.playerCards.length)),h=Object(m.a)(v,2),S=h[0],C=h[1],E=e.unitsAndLocations.timing,O=function(){for(var e=Math.min(i.length,15),t=0;t<e;t++)c[t].current.moveAndPossiblyFlipWithDelay(E.moveDurationDealing,E.flipDurationDealing);setTimeout((function(){$(b,y)}),E.moveDurationDealing+E.flipDurationDealing+500*e)},x=function(){s<e.playerCards.length&&(c[s].current.moveAndPossiblyFlipWithDelay(E.moveDurationDealing,E.flipDurationDealing),setTimeout((function(){var t=G(s,i.length);X(t,e.topmostStuff,i[s]),M([{index:s,newState:"null"}],b,y),f(s+1)}),E.moveDurationDealing+E.flipDurationDealing))},j=function(t,n){var a=z(t,S);X(n,e.topmostStuff,i[t]),M([{index:t,newState:"null"}],b,y),U(t,"vacate","none",S,C);var r=V(t);a>4&&-1!==r&&(c[r].current.flipOnly(E.flipDurationGaming),setTimeout((function(){M([{index:t,newState:"null"},{index:r,newState:"draggable"}],b,y)}),E.flipDurationGaming))},w=function(e,t){if(U(e,"occupy",t,S,C),function(e,t){for(var n,a=0;a<t.length;a++)t[a]===e&&(n=a);return!(n<5)}(e,S)){var n=V(e);-1!==n&&(c[n].current.flipOnly(E.flipDurationGaming),setTimeout((function(){M([{index:e,newState:"draggable"},{index:n,newState:"draggable"}],b,y)}),E.flipDurationGaming))}},T=function(){return S},D=function(){return{occupancyData:S,indexDealNext:s}},k=function(){return{left:e.topmostStuff.valueLeft.value,right:e.topmostStuff.valueRight.value}};return Object(a.useImperativeHandle)(t,(function(){return{dealSolitaireCards:O,dealSingleCard:x,returnOccupancyData:T,returnTopmostValues:k,returnGameRoundOverStateData:D}})),Object(a.useEffect)((function(){S.every((function(e){return-1===e}))&&e.endRound("player")}),[S,e]),r.a.createElement(p.a,null,i.map((function(t,n){return r.a.createElement(Q,{key:n,index:n,card:t,ref:c[n],cardCount:i.length,unitsAndLocations:e.unitsAndLocations,topmostStuff:e.topmostStuff,cardState:b[n],handleChangesAfterPlayingACard:j,handleMovedCardToEmptyPosition:w,occupancyData:S})})))})),$=function(e,t){for(var n=Object(y.a)(e),a=Math.min(e.length,15),r=0;r<a;r++){k(r,e.length)&&(n[r]="draggable")}t(n)},ee=function(e,t){var n={position:"absolute",width:t.unit,height:1.7*t.unit,borderRadius:7,zIndex:0};return"left"===e?Object(l.a)(Object(l.a)({},n),{},{left:t.leftGamingStackXY.x,top:t.leftGamingStackXY.y}):Object(l.a)(Object(l.a)({},n),{},{left:t.rightGamingStackXY.x,top:t.rightGamingStackXY.y})},te=function(e){var t=e.viewStyle,n=e.topmost,a=""===n?"green":"papayawhip";return r.a.createElement(p.a,{style:[t,{backgroundColor:a}]},""!==n?r.a.createElement(S,{card:n}):null)},ne=function(e){var t=e.topmostLeft,n=e.topmostRight,a=e.unitsAndLocations;if(e.roundIsOver)return null;var i=ee("left",a),o=ee("right",a);return r.a.createElement(p.a,null,r.a.createElement(te,{viewStyle:i,topmost:t}),r.a.createElement(te,{viewStyle:o,topmost:n}))},ae=r.a.forwardRef((function(e,t){var n,i=Object(a.useState)((n=e.unitsAndLocations.unit,{x:e.unitsAndLocations.spacing+1/6*n,y:4.675*n})),o=Object(m.a)(i,1)[0],c=Object(a.useState)(function(e,t,n,a){return e<15?F(e,t,n):I(t,n,"left",e,a)}(e.index,e.unitsAndLocations.unit,e.unitsAndLocations.spacing,e.cardCount)),u=Object(m.a)(c,1)[0],l=Object(a.useState)(k(e.index,e.cardCount)),s=Object(m.a)(l,1)[0];return"null"===e.cardState?null:r.a.createElement(j,{ref:t,index:e.index,startLocation:o,card:e.card,endLocation:u,flip:s,unitsAndLocations:e.unitsAndLocations})})),re=r.a.forwardRef((function(e,t){var n=Object(a.useState)(e.computerCards),i=Object(m.a)(n,1)[0],o=Object(a.useState)(i.map((function(e){return r.a.createRef()}))),c=Object(m.a)(o,1)[0],u=Object(a.useState)(e.computerCards.length>15?15:100),l=Object(m.a)(u,2),s=l[0],f=l[1],d=Object(a.useState)(P(e.computerCards.length)),g=Object(m.a)(d,2),b=g[0],v=g[1],h=Object(a.useState)(B(e.computerCards.length)),S=Object(m.a)(h,2),C=S[0],E=S[1],O=e.unitsAndLocations.timing,x=function(){for(var e=Math.min(i.length,15),t=0;t<e;t++)c[t].current.moveAndPossiblyFlipWithDelay(O.moveDurationDealing,O.flipDurationDealing)},j=function(){s<e.computerCards.length&&(c[s].current.moveAndPossiblyFlipWithDelay(O.moveDurationDealing,O.flipDurationDealing),setTimeout((function(){var t=G("left",s,i.length);X(t,e.topmostStuff,i[s]),M([{index:s,newState:"null"}],b,v),f(s+1)}),O.moveDurationDealing+O.flipDurationDealing))},w=function(){var t=function(e,t){for(var n=-1,a=!0,r=0;r<e.length&&a;r++)-1===e[r]&&(n=r,a=!1);return{emptyPosition:n,cardToMoveIndex:N(e,t)}}(C,i),n=F(t.emptyPosition,e.unitsAndLocations.unit,e.unitsAndLocations.spacing),a=t.cardToMoveIndex;c[a].current.moveCardToLocation(n,O.moveDurationComputerCardGaming),setTimeout((function(){var e=z(a,C);!function(e,t,n,a){for(var r,i=Object(y.a)(n),o=0;o<i.length;o++)i[o]===e&&(r=o);i[r]=-1,i[t]=e,a(i)}(a,t.emptyPosition,C,E);var n=V(a);e>4&&-1!==n&&(c[n].current.flipOnly(O.flipDurationGaming),setTimeout((function(){M([{index:a,newState:"movable"},{index:n,newState:"movable"}],b,v)}),O.flipDurationGaming))}),O.moveDurationComputerCardGaming)},T=function(){var t=function(e,t,n,a){for(var r=[],i=[[0],[5,1],[9,6,2],[12,10,7,3],[14,13,11,8,4]],o=0;o<5;){for(var c=0,u=!0;u&&c<i[o].length;){if(i[o][c]<e.length){var l=t[i[o][c]];-1!==l&&(r.push(l),u=!1)}c++}o++}for(var s={cardIndex:-1,stack:"none"},f=0;f<r.length;){var d=e[r[f]],m=L("left",n,a,d),g=L("right",n,a,d);m?(s={cardIndex:r[f],target:"left"},f=100):g&&(s={cardIndex:r[f],target:"right"},f=100),f++}return s}(i,C,e.topmostStuff.valueLeft,e.topmostStuff.valueRight);if(-1!==t.cardIndex){var n="left"===t.target?e.unitsAndLocations.leftGamingStackXY:e.unitsAndLocations.rightGamingStackXY;c[t.cardIndex].current.moveCardToLocation(n,O.moveDurationComputerCardGaming),D(t)}},D=function(t){setTimeout((function(){var n=z(t.cardIndex,C);X(t.target,e.topmostStuff,i[t.cardIndex]),M([{index:t.cardIndex,newState:"null"}],b,v),U(t.cardIndex,"vacate","none",C,E);var a=V(t.cardIndex);n>4&&-1!==a&&(c[a].current.flipOnly(O.flipDurationGaming),setTimeout((function(){M([{index:t.cardIndex,newState:"null"},{index:a,newState:"movable"}],b,v)}),O.flipDurationGaming))}),O.moveDurationComputerCardGaming)},k=function(){return C},A=function(){return{occupancyData:C,indexDealNext:s}};Object(a.useImperativeHandle)(t,(function(){return{dealSolitaireCards:x,dealSingleCard:j,startComputerCardMoveIfPossible:T,returnOccupancyData:k,returnGameRoundOverStateData:A,moveCardToEmptyPosition:w}}));var R=function(e){var t=V(e);-1!==t&&c[t].current.flipOnly(O.flipDurationGaming)};return Object(a.useEffect)((function(){C.every((function(e){return-1===e}))&&e.endRound("computer")}),[C,e]),r.a.createElement(p.a,null,i.map((function(t,n){return r.a.createElement(ae,{key:n,index:n,card:t,ref:c[n],spacing:e.spacing,cardCount:i.length,flipPossibleCardBelow:R,unitsAndLocations:e.unitsAndLocations,cardState:b[n]})})))})),ie=function(e){var t=e.unitsAndLocations,n=e.dealSolitaireCards,i=e.dealSingleCards,o=e.roundIsActive,c=e.changeGameIsActiveState,u=Object(a.useState)(!1),l=Object(m.a)(u,2),s=l[0],f=l[1],d=Object(a.useState)("deal solitaire cards"),g=Object(m.a)(d,2),b=g[0],y=g[1],h=oe(t.unit);return""===b||o?null:r.a.createElement(p.a,{style:{position:"absolute",top:0,alignSelf:"center"}},r.a.createElement(D.a,{onPress:function(){s?(y(""),i(),setTimeout((function(){c(),y("continue")}),t.timing.moveDurationDealing+t.timing.flipDurationDealing)):(y(""),n(),setTimeout((function(){f(!0),y("continue")}),t.timing.moveDurationDealing+t.timing.flipDurationDealing+7500))},style:h.buttonView},r.a.createElement(v.a,{style:h.buttonText},b)))},oe=function(e){return b.a.create({contents:{alignItems:"center",marginTop:e/2},titleText:{fontSize:e/1.5,fontWeigth:"bold",color:"#B9CC3F",fontFamily:"Arial Black"},infoText:{fontSize:e/2.75,color:"#B9CC3F",fontFamily:"Arial"},spacer:{height:e/2},buttonView:{backgroundColor:"#B9CC3F",padding:e/10,borderRadius:8,marginTop:e/10},buttonText:{color:"green",fontFamily:"Arial",fontSize:e/3}})},ce=Object(c.b)((function(e){return{game:e.game}}),{})((function(e){var t=Object(a.useState)(""),n=Object(m.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)(""),u=Object(m.a)(c,2),l=u[0],s=u[1],f=Object(a.useState)(e.game.playerStack),d=Object(m.a)(f,1)[0],g=Object(a.useState)(e.game.computerStack),b=Object(m.a)(g,1)[0],h=Object(a.useState)(r.a.createRef()),S=Object(m.a)(h,1)[0],C=Object(a.useState)(r.a.createRef()),E=Object(m.a)(C,1)[0],O=Object(a.useState)(e.unitsAndLocations),x=Object(m.a)(O,1)[0],j=Object(a.useState)([]),w=Object(m.a)(j,2),T=w[0],D=w[1],k=Object(a.useState)([]),A=Object(m.a)(k,2),R=A[0],L=A[1],V=Object(a.useState)(!1),I=Object(m.a)(V,2),G=I[0],F=I[1],P=function(t){var n=S.current.returnGameRoundOverStateData(),a=E.current.returnGameRoundOverStateData(),r=S.current.returnTopmostValues();e.gameRoundOver(t,n,a,r,T,R)},B={valueLeft:i,valueRight:l,changeLeft:function(e){o(e);var t=Object(y.a)(T);t.push(e),D(t)},changeRight:function(e){s(e);var t=Object(y.a)(R);t.push(e),L(t)}},M=function e(){if(null!==E&&null!==E.current){var t=E.current.returnOccupancyData();if(le(t))E.current.moveCardToEmptyPosition();else{var n=S.current.returnTopmostValues(),a=S.current.returnOccupancyData();ue(a,t,n.left,n.right,d,b)?F(!1):E.current.startComputerCardMoveIfPossible()}setTimeout((function(){e()}),4e3)}},U=function(){var e=S.current.returnOccupancyData(),t=E.current.returnOccupancyData(),n=S.current.returnTopmostValues();return ue(e,t,n.left,n.right,d,b)};return r.a.createElement(p.a,null,r.a.createElement(ne,{topmostLeft:i,topmostRight:l,unitsAndLocations:x}),r.a.createElement(Z,{playerCards:d,ref:S,endRound:P,unitsAndLocations:x,topmostStuff:B,roundIsActive:G}),r.a.createElement(re,{computerCards:b,ref:E,endRound:P,unitsAndLocations:x,topmostStuff:B,roundIsActive:G}),r.a.createElement(ie,{unitsAndLocations:x,dealSolitaireCards:function(){S.current.dealSolitaireCards(),E.current.dealSolitaireCards()},dealSingleCards:function(){S.current.dealSingleCard(),E.current.dealSingleCard()},roundIsActive:G,changeGameIsActiveState:function(){U()?F(!1):(F(!0),setTimeout((function(){M()}),4e3))}}),r.a.createElement(v.a,{style:{position:"absolute",top:3.4*x.unit,left:(1/6+1)*x.unit,fontStyle:"bold",fontSize:x.unit/2}},"PROTOTYPE"))})),ue=function(e,t,n,a,r,i){var o=fe(e,r),c=fe(t,i);return!le(e)&&!le(t)&&(!!se(o,n,a)&&!!se(c,n,a))},le=function(e){for(var t=!1,n=Math.min(5,e.length),a=0;a<n;a++)-1===e[a]&&(t=!0);var r=!1;if(t)for(var i=Math.min(9,e.length),o=5;o<i;o++)-1!==e[o]&&(r=!0);return r},se=function(e,t,n){for(var a=0;a<e.length;a++){if(de(e[a],t))return!1;if(de(e[a],n))return!1}return!0},fe=function(e,t){for(var n=[],a=[[0],[5,1],[9,6,2],[12,10,7,3],[14,13,11,8,4]],r=0;r<5;){for(var i=0,o=!0;o&&i<a[r].length;){if(a[r][i]<t.length){var c=e[a[r][i]];-1!==c&&(n.push(t[c].value),o=!1)}i++}r++}return n},de=function(e,t){if(1===t){if(2===e||13===e)return!0}else{if(13!==t)return e===t+1||e===t-1;if(12===e||1===e)return!0}},me=function(e){return b.a.create({contents:{alignItems:"center",marginTop:e/2},titleText:{fontSize:e/1.5,fontWeigth:"bold",color:"#B9CC3F",fontFamily:"Arial Black"},infoText:{fontSize:e/2.5,color:"#B9CC3F",fontFamily:"Arial"},spacer:{height:e/2},buttonView:{backgroundColor:"#B9CC3F",padding:e/5,borderRadius:8,marginTop:e/5},buttonText:{color:"green",fontFamily:"Arial",fontSize:e/2.5}})},ge=function(e){var t=e.startSetting,n=e.scaleUnit,a=me(n),i=new h.a.Value(1),o={opacity:i};return r.a.createElement(p.a,null,r.a.createElement(h.a.View,{style:o},r.a.createElement(p.a,{style:a.contents},r.a.createElement(v.a,{style:a.titleText},"nopsa"),r.a.createElement(v.a,{style:a.infoText},"a card game for those with"),r.a.createElement(v.a,{style:a.infoText}," skill, speed and luck"),r.a.createElement(p.a,{style:a.spacer}),r.a.createElement(v.a,{style:a.infoText},"feel like playing?"),r.a.createElement(D.a,{onPress:function(){h.a.timing(i,{toValue:0,duration:1e3}).start(),setTimeout((function(){t()}),1e3)},style:a.buttonView},r.a.createElement(v.a,{style:a.buttonText},"setup a new game")))))},pe=function(e){var t=e.value,n=e.dotViewWidth,a={width:n,height:1.4*n,justifyContent:"center",alignItems:"center"},i={width:4,height:4,opacity:t>=e.dotNumber?1:.2,backgroundColor:"#B9CC3F",borderRadius:3};return r.a.createElement(p.a,{style:a},r.a.createElement(p.a,{style:i}))},be=function(e){var t=e.value,n=e.dotNumber,a=e.dotViewWidth,i=e.handleSelectionChanged,o={width:a,height:1.4*a,justifyContent:"center",alignItems:"center",borderWidth:1.5,opacity:t>=n?1:.2,borderColor:"#B9CC3F",borderRadius:a};return r.a.createElement(D.a,{onPress:function(){return i(n)}},r.a.createElement(p.a,{style:o},r.a.createElement(p.a,{style:{width:4,height:4,backgroundColor:"#B9CC3F",borderRadius:2}})))},ye=r.a.forwardRef((function(e,t){var n=e.scaleUnit,i=e.optionCount-1,o=Object(a.useState)(1),c=Object(m.a)(o,2),u=c[0],l=c[1],s=6*n/30,f=function(e){var t,n=u,a=Math.max(e-u,u-e);function r(t){return setInterval((function(){"up"===t&&n<e?(n++,l(n)):"down"===t&&e<n&&(n--,l(n))}),180/a)}u<e?t=r("up"):u>e&&(t=r("down")),setTimeout((function(){clearInterval(t)}),180*a)},d=function(){return(u-1)/6+1};Object(a.useImperativeHandle)(t,(function(){return{getSelectedValue:d}}));return r.a.createElement(p.a,{style:ve.container},r.a.createElement(p.a,{style:ve.dotSliderView},function(){for(var e=[],t=1;t<=6*i+1;t++)(t-1)%6!==0?e.push(r.a.createElement(pe,{key:t,value:u,dotViewWidth:s,dotNumber:t})):e.push(r.a.createElement(be,{key:t,value:u,dotViewWidth:s,handleSelectionChanged:f,dotNumber:t}));return e}()))})),ve=b.a.create({container:{alignItems:"center",marginBottom:50},instructionText:{color:"#B9CC3F",fontFamily:"Arial",fontWeight:"bold",marginBottom:15},dotSliderView:{flexDirection:"row",alignItems:"center"}}),he=function(e){var t=e.displayColor,n=e.number,a=e.selectStack,i=e.scaleUnit,o={width:1.5*i,height:1.7*i*1.3,borderRadius:9.1,borderWidth:1.3,justifyContent:"center",alignItems:"center"};return r.a.createElement(D.a,{onPress:function(){return a(n)}},r.a.createElement(p.a,{style:[o,t]},r.a.createElement(C,{scaleUnit:i})))},Se=r.a.forwardRef((function(e,t){var n=e.scaleUnit,i=Ce(),o=Object(a.useState)(0),c=Object(m.a)(o,2),u=c[0],l=c[1],s=function(e){l(e)},f=function(){return 0===u?{player:0,computer:1}:{player:1,computer:0}};Object(a.useImperativeHandle)(t,(function(){return{getSelectedStack:f}}));var d=0===u?{borderColor:"#B9CC3F"}:{borderColor:"green"},g=1===u?{borderColor:"#B9CC3F"}:{borderColor:"green"};return r.a.createElement(p.a,{style:i.container},r.a.createElement(p.a,{style:{flexDirection:"row"}},r.a.createElement(he,{displayColor:d,number:0,selectStack:s,scaleUnit:n}),r.a.createElement(p.a,{style:{width:30}}),r.a.createElement(he,{displayColor:g,number:1,selectStack:s,scaleUnit:n})))})),Ce=function(e){return b.a.create({container:{alignItems:"center"},instructionText:{fontSize:e/2.5,color:"#B9CC3F",fontFamily:"Arial",marginBottom:e/3}})},Ee=n(80),Oe=n.n(Ee),xe={setGameSettings:function(e){return{type:"SET_GAME_SETTINGS",data:e}}},je=Object(c.b)((function(e){return{game:e.game}}),xe)((function(e){var t=e.scaleUnit,n=we(t),a=r.a.createRef(),i=r.a.createRef(),o=r.a.createRef(),c=new h.a.Value(1),u={opacity:c};return r.a.createElement(h.a.View,{style:[n.container,u]},r.a.createElement(v.a,{style:n.instructionText},"select opponent skill level"),r.a.createElement(ye,{scaleUnit:t,optionCount:3,ref:a}),r.a.createElement(v.a,{style:n.instructionText},"select opponent speed"),r.a.createElement(ye,{scaleUnit:t,optionCount:5,ref:i}),r.a.createElement(v.a,{style:n.instructionText},"select your stack"),r.a.createElement(Se,{scaleUnit:t,ref:o}),r.a.createElement(p.a,{style:n.spacer}),r.a.createElement(D.a,{onPress:function(){h.a.timing(c,{toValue:0,duration:1e3}).start();var t=function(){for(var e=[],t=1;t<5;t++)for(var n=1;n<14;n++)e.push({suit:t,value:n});var a=Oe()(e);return[a.slice(0,26),a.slice(26)]}();setTimeout((function(){e.setGameSettings({skill:a.current.getSelectedValue(),speed:i.current.getSelectedValue(),playerStack:t[o.current.getSelectedStack().player],computerStack:t[o.current.getSelectedStack().computer],isOn:!0})}),1e3)},style:n.buttonView},r.a.createElement(v.a,{style:n.buttonText},"save settings")))})),we=function(e){return b.a.create({container:{alignItems:"center",marginTop:50},instructionText:{fontSize:e/2.5,color:"#B9CC3F",fontFamily:"Arial",marginBottom:e/3},spacer:{height:e/2},buttonView:{backgroundColor:"#B9CC3F",padding:e/5,borderRadius:8,marginTop:e/5},buttonText:{color:"green",fontFamily:"Arial",fontSize:e/2.5}})},Te=function(e){var t=e.scaleUnit,n=Object(a.useState)(!1),i=Object(m.a)(n,2),o=i[0],c=i[1];return r.a.createElement(p.a,null,o?r.a.createElement(je,{scaleUnit:t}):r.a.createElement(ge,{startSetting:function(){c(!0)},scaleUnit:t}))},De=function(e){var t=e.winner,n=e.styles,a=e.animatedVisibility,i=e.fadeOut,o="player"===t?1:2,c={title:{1:"yippee!",2:"oh no..."},text1:{1:"you won the game",2:"you lost the game"},text2:{1:"congratulations!",2:"better luck next time..."}};return r.a.createElement(p.a,null,r.a.createElement(h.a.View,{style:a},r.a.createElement(p.a,{style:n.contents},r.a.createElement(v.a,{style:n.titleText},c.title[o]),r.a.createElement(p.a,{style:n.spacer}),r.a.createElement(v.a,{style:n.infoText},c.text1[o]),r.a.createElement(p.a,{style:n.spacer}),r.a.createElement(v.a,{style:n.infoText},c.text2[o]),r.a.createElement(p.a,{style:n.spacer}),r.a.createElement(p.a,{style:n.spacer}),r.a.createElement(D.a,{onPress:i,style:n.buttonView},r.a.createElement(v.a,{style:n.buttonText},"new game")))))},ke=function(e){var t=e.styles,n=e.animatedVisibility,a=e.fadeOut,i=e.playerCardsCount,o=e.computerCardsCount;return r.a.createElement(p.a,null,r.a.createElement(h.a.View,{style:n},r.a.createElement(p.a,{style:t.contents},r.a.createElement(v.a,{style:t.titleText},"situation"),r.a.createElement(p.a,{style:t.spacer}),r.a.createElement(v.a,{style:t.infoText},"number of your cards:"),r.a.createElement(v.a,{style:t.infoText},i),r.a.createElement(p.a,{style:t.spacer}),r.a.createElement(v.a,{style:t.infoText},"number of computer cards:"),r.a.createElement(v.a,{style:t.infoText},o),r.a.createElement(p.a,{style:t.spacer}),r.a.createElement(D.a,{onPress:a,style:t.buttonView},r.a.createElement(v.a,{style:t.buttonText},"continue to next round")))))},Ae={endGame:function(){return{type:"END_GAME",data:{isOn:!1}}}},Re=Object(c.b)((function(e){return{game:e.game}}),Ae)((function(e){var t=Le(e.unitsAndLocations.unit),n=new h.a.Value(1),a={opacity:n},i=function(){h.a.timing(n,{toValue:0,duration:1e3}).start(),0===e.game.playerStack.length||0===e.game.computerStack.length?(e.continueToNextRound(),e.endGame()):setTimeout((function(){e.continueToNextRound()}),1e3)};return 0===e.game.playerStack.length||0===e.game.computerStack.length?r.a.createElement(De,{styles:t,animatedVisibility:a,fadeOut:i,winner:e.winner}):r.a.createElement(ke,{styles:t,animatedVisibility:a,fadeOut:i,playerCardsCount:e.game.playerStack.length,computerCardsCount:e.game.computerStack.length})})),Le=function(e){return b.a.create({contents:{alignItems:"center",marginTop:e/2},titleText:{fontSize:e/1.5,fontWeigth:"bold",color:"#B9CC3F",fontFamily:"Arial Black"},infoText:{fontSize:e/2.5,color:"#B9CC3F",fontFamily:"Arial"},spacer:{height:e/2},buttonView:{backgroundColor:"#B9CC3F",padding:e/5,borderRadius:8,marginTop:e/5},buttonText:{color:"green",fontFamily:"Arial",fontSize:e/2.5}})},Ve={setGameRoundResults:function(e){return{type:"SET_GAMEROUND_RESULTS",data:e}}},Ie=Object(c.b)((function(e){return{game:e.game}}),Ve)((function(e){var t=g.a.get("window").width,n=g.a.get("window").height,i=Math.min(t/6,n/10.2),o=Ge(t,n),c=(t-6*i)/2,u=Fe(i,c),l=e.game.isOn,s=Object(a.useState)("none"),f=Object(m.a)(s,2),d=f[0],b=f[1],y=function(t,n,a,r,i,o){var c=e.game.computerStack,u=e.game.playerStack,l=Pe(a),s=Pe(n),f=Be(a,c.length),d=Be(n,u.length),m=Me(t,"computer",i,o),g=Me(t,"player",i,o),p=l.concat(f),y=s.concat(d),v=Ue(p,c,m),h=Ue(y,u,g);e.setGameRoundResults({playerStack:h,computerStack:v}),b(t)},v=function(){b("none")},h=function(){return"none"===d?r.a.createElement(ce,{scaleUnit:i,spacing:c,gameRoundOver:y,unitsAndLocations:u}):r.a.createElement(Re,{winner:d,unitsAndLocations:u,continueToNextRound:v})};return l?r.a.createElement(p.a,{style:o.screen},r.a.createElement(h,null)):r.a.createElement(p.a,{style:o.screen},r.a.createElement(Te,{scaleUnit:i}))})),Ge=function(e,t){return b.a.create({screen:{width:e,height:t,backgroundColor:"green"}})},Fe=function(e,t){return{unit:e,spacing:t,leftDealingStackXY:{x:t+1/6*e,y:4.675*e},leftGamingStackXY:{x:t+(1/6+1+4/6)*e,y:4.675*e},rightGamingStackXY:{x:t+(1/6+1+4/6+1+2/6)*e,y:4.675*e},rightDealingStackXY:{x:t+4.833333333333334*e,y:4.675*e},timing:{moveDurationDealing:700,flipDurationDealing:400,moveDurationComputerCardGaming:200,flipDurationGaming:200,movementFinalization:50}}},Pe=function(e){return e.occupancyData.filter((function(e){return-1!==e}))},Be=function(e,t){for(var n=[],a=e.indexDealNext;a<t;a++)n.push(a);return n},Me=function(e,t,n,a){var r=n.length<a.length?n:a,i=n.length<a.length?a:n;return t===e?r:i},Ue=function(e,t,n){return e.map((function(e){return t[e]})).concat(n)},ze=Object(u.c)(d),Xe=function(){return r.a.createElement(c.a,{store:ze},r.a.createElement(Ie,null))};o.a.render(r.a.createElement(Xe,null),document.getElementById("root"))},81:function(e,t,n){e.exports=n(101)}},[[81,1,2]]]);
//# sourceMappingURL=main.c14b0245.chunk.js.map